"use strict";(self.webpackChunkadminPro=self.webpackChunkadminPro||[]).push([[25],{5025:(ot,x,c)=>{c.r(x),c.d(x,{ChildRoutesModule:()=>et});var e=c(1223);let D=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"dashboard works!"),e.qZA())},encapsulation:2}),o})();var N=c(8297);let H=(()=>{class o{constructor(){this.title="Default title",this.labels=["Default 1","Default 2","Default 3"],this.data1=[350,450,100],this.colors=["#6857E6","#009FEE","#F02059"],this.doughnutChartType="doughnut"}ngOnInit(){this.doughnutChartData={labels:this.labels,datasets:[{data:this.data1,backgroundColor:this.colors}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-doughnut"]],inputs:{title:"title",labels:"labels",data1:"data1",colors:"colors"},decls:6,vars:3,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","",3,"data","type"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"canvas",3),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(n.title),e.xp6(2),e.Q6J("data",n.doughnutChartData)("type",n.doughnutChartType))},directives:[N.jh],encapsulation:2}),o})();const F=function(){return["Nintendo switch","Ps5","Xbox series x"]},M=function(){return[1110,2e3,1500]},Y=function(){return["red","blue","green"]},P=function(){return["On my mind","Counting Stars","Marchin On"]},$=function(){return[10,9,10]},O=function(){return["black","green","purple"]},Q=function(){return["Thing 1","Thing 2","Thing 3"]};let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-graph1"]],decls:9,vars:17,consts:[[1,"row"],[1,"col-md-6","col-xl-4"],[3,"title","labels","data1","colors"],[3,"title","labels"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-doughnut",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-doughnut"),e.qZA(),e.TgZ(5,"div",1),e._UZ(6,"app-doughnut",2),e.qZA(),e.TgZ(7,"div",1),e._UZ(8,"app-doughnut",3),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("title","Best consoles in market")("labels",e.DdM(10,F))("data1",e.DdM(11,M))("colors",e.DdM(12,Y)),e.xp6(4),e.Q6J("title","Best songs in the world")("labels",e.DdM(13,P))("data1",e.DdM(14,$))("colors",e.DdM(15,O)),e.xp6(2),e.Q6J("title","Another stuff to test this graph")("labels",e.DdM(16,Q)))},directives:[H],encapsulation:2}),o})();var u=c(9808),l=c(2382);const L=function(o){return{"is-invalid":o}};let R=(()=>{class o{constructor(){this.progress=50,this.btnClass="btn-primary",this.onValueChange=new e.vpe}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeValue(t){return this.progress+t>=100?(this.progress=100,void this.onValueChange.emit(this.progress)):this.progress+t<=0?(this.progress=0,void this.onValueChange.emit(this.progress)):(this.progress+=t,void this.onValueChange.emit(this.progress))}onChange(t){this.progress=t>=100?100:t<=0?0:t,this.onValueChange.emit(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-incrementer"]],inputs:{progress:["value","progress"],btnClass:"btnClass"},outputs:{onValueChange:"onValueChange"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Product name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"button",2),e.NdJ("click",function(){return n.changeValue(-5)}),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(s){return n.progress=s})("ngModelChange",function(s){return n.onChange(s)}),e.qZA(),e.TgZ(5,"span",1)(6,"button",2),e.NdJ("click",function(){return n.changeValue(5)}),e._UZ(7,"i",5),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngClass",n.btnClass),e.xp6(2),e.Q6J("ngClass",e.VKq(4,L,n.progress>100||n.progress<0))("ngModel",n.progress),e.xp6(2),e.Q6J("ngClass",n.btnClass))},directives:[u.mk,l.wV,l.Fj,l.JJ,l.On],styles:[""]}),o})(),V=(()=>{class o{constructor(){this.progress1=25,this.progress2=35}get getPercentage1(){return`${this.progress1}%`}get getPercentage2(){return`${this.progress2}%`}progressChange(t,n){"1"==n?this.progress1=t:"2"==n&&(this.progress2=t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-progress"]],decls:23,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],[1,"sr-only"],["role","progressbar",1,"progress-bar","bg-sucess","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"value","onValueChange"],[3,"value","btnClass","onValueChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Striped Progress bar"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"span",7),e._uU(9,"85% Complete (success)"),e.qZA()()(),e.TgZ(10,"div",5)(11,"div",8)(12,"span",7),e._uU(13,"85% Complete (success)"),e.qZA()()()()()()(),e.TgZ(14,"div",0)(15,"div",9)(16,"div",2)(17,"div",3)(18,"app-incrementer",10),e.NdJ("onValueChange",function(s){return n.progressChange(s,"1")}),e.qZA()()()(),e.TgZ(19,"div",9)(20,"div",2)(21,"div",3)(22,"app-incrementer",11),e.NdJ("onValueChange",function(s){return n.progressChange(s,"2")}),e.qZA()()()()()),2&t&&(e.xp6(7),e.Udp("width",n.getPercentage1),e.xp6(4),e.Udp("width",n.getPercentage2),e.xp6(7),e.Q6J("value",n.progress1),e.xp6(4),e.Q6J("value",n.progress2)("btnClass","btn-info"))},directives:[R],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:myanimation;transition:5s all}@keyframes myanimation{0%{width:0}}"]}),o})(),j=(()=>{class o{constructor(){this.linkTheme=document.getElementById("theme"),this.setTheme()}setTheme(){var t;const n=localStorage.getItem("theme");n&&(null===(t=this.linkTheme)||void 0===t||t.setAttribute("href",n))}changeTheme(t){var n;const r=`./assets/css/colors/${t}.css`;null===(n=this.linkTheme)||void 0===n||n.setAttribute("href",r),localStorage.setItem("theme",r),this.checkCurrentTheme()}checkCurrentTheme(){var t;null===(t=this.themeLinks)||void 0===t||t.forEach(n=>{var r;n.classList.remove("working"),`./assets/css/colors/${n.getAttribute("data-theme")}.css`==(null===(r=this.linkTheme)||void 0===r?void 0:r.getAttribute("href"))&&n.classList.add("working")})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),B=(()=>{class o{constructor(t){this.settingsService=t}ngOnInit(){this.settingsService.themeLinks=document.querySelectorAll(".selector"),this.settingsService.checkCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t),this.settingsService.checkCurrentTheme()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(j))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-5"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme","working",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Select theme"),e.qZA(),e.TgZ(6,"div",4)(7,"ul",5)(8,"li")(9,"b"),e._uU(10,"With light sidebar"),e.qZA()(),e.TgZ(11,"li")(12,"a",6),e.NdJ("click",function(){return n.changeTheme("default")}),e._uU(13,"1"),e.qZA()(),e.TgZ(14,"li")(15,"a",7),e.NdJ("click",function(){return n.changeTheme("green")}),e._uU(16,"2"),e.qZA()(),e.TgZ(17,"li")(18,"a",8),e.NdJ("click",function(){return n.changeTheme("red")}),e._uU(19,"3"),e.qZA()(),e.TgZ(20,"li")(21,"a",9),e.NdJ("click",function(){return n.changeTheme("blue")}),e._uU(22,"4"),e.qZA()(),e.TgZ(23,"li")(24,"a",10),e.NdJ("click",function(){return n.changeTheme("purple")}),e._uU(25,"5"),e.qZA()(),e.TgZ(26,"li")(27,"a",11),e.NdJ("click",function(){return n.changeTheme("megna")}),e._uU(28,"6"),e.qZA()(),e.TgZ(29,"li",12)(30,"b"),e._uU(31,"With dark sidebar oscuro"),e.qZA()(),e.TgZ(32,"li")(33,"a",13),e.NdJ("click",function(){return n.changeTheme("default-dark")}),e._uU(34,"7"),e.qZA()(),e.TgZ(35,"li")(36,"a",14),e.NdJ("click",function(){return n.changeTheme("green-dark")}),e._uU(37,"8"),e.qZA()(),e.TgZ(38,"li")(39,"a",15),e.NdJ("click",function(){return n.changeTheme("red-dark")}),e._uU(40,"9"),e.qZA()(),e.TgZ(41,"li")(42,"a",16),e.NdJ("click",function(){return n.changeTheme("blue-dark")}),e._uU(43,"10"),e.qZA()(),e.TgZ(44,"li")(45,"a",17),e.NdJ("click",function(){return n.changeTheme("purple-dark")}),e._uU(46,"11"),e.qZA()(),e.TgZ(47,"li")(48,"a",18),e.NdJ("click",function(){return n.changeTheme("megna-dark")}),e._uU(49,"12"),e.qZA()()()()()()()())},styles:["#themecolors[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{cursor:pointer}"]}),o})(),G=(()=>{class o{constructor(){}ngOnInit(){this.getUsers().then(t=>{console.log(t)})}dummiePromises(){new Promise((n,r)=>{r("Something were wrong"),n("Hello world")}).then(n=>console.log(n)).catch(n=>{console.log(`Error: ${n}`)}),console.log("End dummie promises")}getUsers(){return new Promise(t=>{fetch("https://reqres.in/api/users").then(n=>n.json()).then(n=>t(n.data))})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-promises"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"promises works!"),e.qZA())},encapsulation:2}),o})();var X=c(727);class z extends X.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const v={setInterval(o,i,...t){const{delegate:n}=v;return(null==n?void 0:n.setInterval)?n.setInterval(o,i,...t):setInterval(o,i,...t)},clearInterval(o){const{delegate:i}=v;return((null==i?void 0:i.clearInterval)||clearInterval)(o)},delegate:void 0};var K=c(8737);const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class g{constructor(i,t=g.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}g.now=S.now;const T=new class ee extends g{constructor(i,t=g.now){super(i,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}(class W extends z{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){if(this.closed)return this;this.state=i;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(i,t,n=0){return v.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;v.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.P)(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),te=T;var y=c(8306),ne=c(3532);function I(o=0,i,t=te){let n=-1;return null!=i&&((0,ne.K)(i)?t=i:n=i),new y.y(r=>{let s=function oe(o){return o instanceof Date&&!isNaN(o)}(o)?+o-t.now():o;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=n?this.schedule(void 0,n):r.complete())},s)})}var p=c(4004),ie=c(9300);let se=(()=>{class o{constructor(){this.intervalSubscription=this.returnInterval().subscribe(t=>console.log(t))}returnInterval(){return function re(o=0,i=T){return o<0&&(o=0),I(o,o,i)}(500).pipe((0,p.U)(t=>t+1),(0,ie.h)(t=>t%2==0),(0,p.U)(t=>`Hello world ${t}`))}returnObservable(){let t=-1;return new y.y(n=>{const r=setInterval(()=>{t++,n.next(t),4===t&&(clearInterval(r),n.complete()),2===t&&(console.log("i == 2 error"),n.error("i has reached the value of 2"))},1e3)})}ngOnDestroy(){var t;null===(t=this.intervalSubscription)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"rxjs works!"),e.qZA())},encapsulation:2}),o})();var ae=c(5226),d=c.n(ae),C=c(3071),le=c(162);let ce=(()=>{class o{constructor(t,n,r){var s;this.userService=t,this.fb=n,this.fileUploadService=r,this.imageUrl=null,this.user=t.user,this.imageUrl=null===(s=t.user)||void 0===s?void 0:s.imageUrl}ngOnInit(){var t,n;this.profileForm=this.fb.group({name:[null===(t=this.user)||void 0===t?void 0:t.name,[l.kI.required]],email:[null===(n=this.user)||void 0===n?void 0:n.email,[l.kI.required,l.kI.email]]})}updateProfile(){var t;this.userService.updateProfile(null===(t=this.profileForm)||void 0===t?void 0:t.value).subscribe({next:n=>{var r;const{name:s,email:a}=n.user;this.user&&(this.user.name=s,this.user.email=a,null===(r=this.profileForm)||void 0===r||r.reset({name:s,email:a})),d().fire("Success","The user was updated","success")},error:n=>{var r;d().fire("Error",null!==(r=n.error.msg)&&void 0!==r?r:"Error on update","error")}})}changeImage(t){var n,r;if(this.uploadingImage=null===(n=t.target)||void 0===n?void 0:n.files[0],!this.uploadingImage)return void(this.imageUrl=null===(r=this.user)||void 0===r?void 0:r.imageUrl);const s=new FileReader;s.readAsDataURL(this.uploadingImage),s.onloadend=()=>{this.imageUrl=s.result}}updateImage(){this.uploadingImage&&this.fileUploadService.uploadPhoto(this.uploadingImage,"users",this.userService.userUid).then(t=>{t?(this.user&&(this.user.img=t),d().fire("Success","The image was updated","success")):d().fire("Error","The image couldn't be updated","error")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.K),e.Y36(l.qu),e.Y36(le.J))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile"]],decls:39,vars:5,consts:[[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readonly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center","p-2"],["alt","Image",1,"img-avatar",3,"src"],["type","file",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","mt-4",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"My User profile"),e.qZA(),e.TgZ(6,"h6",5),e._uU(7,"Settings"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.updateProfile()}),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"User Name"),e.qZA(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"i",11),e.qZA(),e._UZ(15,"input",12),e.qZA()(),e.TgZ(16,"div",7)(17,"label",13),e._uU(18,"Email address"),e.qZA(),e.TgZ(19,"div",9)(20,"div",10),e._UZ(21,"i",14),e.qZA(),e._UZ(22,"input",15),e.qZA()(),e.TgZ(23,"button",16),e._UZ(24,"i",17),e._uU(25," Submit "),e.qZA()()()()(),e.TgZ(26,"div",1)(27,"div",2)(28,"div",3)(29,"h4",4),e._uU(30,"Avatar"),e.qZA(),e.TgZ(31,"h6",5),e._uU(32,"User image"),e.qZA(),e.TgZ(33,"div",18),e._UZ(34,"img",19),e.qZA(),e.TgZ(35,"input",20),e.NdJ("change",function(s){return n.changeImage(s)}),e.qZA(),e.TgZ(36,"button",21),e.NdJ("click",function(){return n.updateImage()}),e._UZ(37,"i",17),e._uU(38," Change image "),e.qZA()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.profileForm),e.xp6(14),e.Q6J("readonly",null==n.user?null:n.user.google),e.xp6(1),e.Q6J("disabled",null==n.profileForm?null:n.profileForm.invalid),e.xp6(11),e.Q6J("src",n.imageUrl,e.LSH),e.xp6(2),e.Q6J("disabled",!n.uploadingImage))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u],styles:[""]}),o})();var _=c(2340);class f{constructor(i,t,n,r,s){this.name=i,this._id=t,this.user=n,this.hospital=r,this.img=s}}var U=c(520);let k=(()=>{class o{constructor(t){this.http=t,this.baseUrl=_.N.baseUrl,this.doctorUrl=`${this.baseUrl}/doctor`}get token(){return localStorage.getItem("token")||""}get headers(){return{"x-token":this.token}}loadDoctors(){return this.http.get(this.doctorUrl,{headers:this.headers}).pipe((0,p.U)(t=>{var n;return null!==(n=t.doctors)&&void 0!==n?n:[]}))}getDoctorById(t){return this.http.get(`${this.doctorUrl}/${t=""==t?"default":t}`,{headers:this.headers}).pipe((0,p.U)(r=>{var s;return null!==(s=null==r?void 0:r.doctor)&&void 0!==s?s:new f("")}))}createDoctor(t){return this.http.post(this.doctorUrl,t,{headers:this.headers}).pipe((0,p.U)(n=>{var r;return null!==(r=n.doctor)&&void 0!==r?r:new f("")}))}updateDoctor(t){var n;const r=null!==(n=null==t?void 0:t._id)&&void 0!==n?n:"no-id";return this.http.put(`${this.doctorUrl}/${r}`,t,{headers:this.headers}).pipe((0,p.U)(a=>{var m;return null!==(m=a.doctor)&&void 0!==m?m:new f("")}))}deleteDoctor(t="no-id"){return this.http.delete(`${this.doctorUrl}/${t}`,{headers:this.headers})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class de{constructor(i,t,n,r){this.name=i,this._id=t,this.user=n,this.img=r}}var ue=c(4872);let Z=(()=>{class o{constructor(t){this.http=t,this.baseUrl=_.N.baseUrl,this.searchUrl=`${this.baseUrl}/search`}get token(){return localStorage.getItem("token")||""}get headers(){return{"x-token":this.token}}transformUsers(t){return t.map(r=>new ue.n(r.name,r.email,"",r.img,r.google,r.role,r.uid))}transformHospitals(t){return t.map(r=>new de(r.name,null==r?void 0:r._id,null==r?void 0:r.user,null==r?void 0:r.img))}transformDoctors(t){return t.map(r=>new f(r.name,null==r?void 0:r._id,null==r?void 0:r.user,null==r?void 0:r.hospital,null==r?void 0:r.img))}globalSearch(t){return this.http.get(`${this.searchUrl}/all/${t}`,{headers:this.headers})}search(t,n){return this.http.get(`${this.searchUrl}/collection/${t}/${n}`,{headers:this.headers}).pipe((0,p.U)(s=>{switch(t){case"users":return this.transformUsers(s.content);case"hospitals":return this.transformHospitals(s.content);case"doctors":return this.transformDoctors(s.content);default:return[]}}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=c(9960),h=c(4980);const pe=_.N.baseUrl;let b=(()=>{class o{transform(t,n){return""==t&&(t="no-image"),(null==t?void 0:t.includes("https"))?t:`${pe}/uploads/${n}/${t}`}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"image",type:o,pure:!0}),o})();function he(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",8)(3,"h4",9),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",10),e.TgZ(6,"p",11),e._uU(7,"Please wait"),e.qZA()()()())}const me=function(o){return["/dashboard/doctor",o]};function ge(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"img",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).openModal(s)}),e.ALo(3,"image"),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",26)(7,"a",27),e._UZ(8,"i",28),e.qZA(),e.TgZ(9,"a",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteDoctor(s)}),e._UZ(10,"i",30),e.qZA()()()}if(2&o){const t=i.$implicit;let n;e.xp6(2),e.Q6J("src",e.xi3(3,4,null!==(n=t.img)&&void 0!==n?n:"","doctors"),e.LSH)("alt",t.name),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Q6J("routerLink",e.VKq(7,me,t._id))}}const ve=function(){return["/dashboard/doctor/new"]};function _e(o,i){if(1&o&&(e.TgZ(0,"div",12)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",12)(5,"div",13)(6,"h4",14),e._uU(7,"Doctors"),e.qZA(),e.TgZ(8,"h6",15),e._uU(9,"Doctors registered in the application"),e.qZA()(),e.TgZ(10,"div",16)(11,"div",17)(12,"a",18),e._uU(13," Create doctor "),e._UZ(14,"i",19),e.qZA()()()(),e.TgZ(15,"div",20)(16,"table",21)(17,"thead")(18,"tr")(19,"th",22),e._uU(20,"Avatar"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Name"),e.qZA(),e.TgZ(23,"th",23),e._uU(24,"Actions"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ge,11,9,"tr",24),e.qZA()()()()()()()),2&o){const t=e.oxw();e.xp6(12),e.Q6J("routerLink",e.DdM(2,ve)),e.xp6(14),e.Q6J("ngForOf",t.doctors)}}let fe=(()=>{class o{constructor(t,n,r){this.doctorService=t,this.searchService=n,this.modalImageService=r,this.doctors=[],this.loading=!0}ngOnInit(){this.loadDoctors(),this.newImagesSub=this.modalImageService.newImage.subscribe(()=>{this.loadDoctors()})}loadDoctors(){this.loading=!0,this.doctorService.loadDoctors().subscribe(t=>{this.loading=!1,this.doctors=t})}createDoctor(){}deleteDoctor(t){d().fire({title:"Are you sure?",text:`You are about to delete ${null==t?void 0:t.name}`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes delete it!"}).then(n=>{n.value&&this.doctorService.deleteDoctor(null==t?void 0:t._id).subscribe(()=>{d().fire("Success",`The doctor ${null==t?void 0:t.name} was deleted`,"success"),this.loadDoctors()})})}openModal(t){var n;this.modalImageService.openModal("doctors",null!==(n=null==t?void 0:t._id)&&void 0!==n?n:"",null==t?void 0:t.img)}search(t){""!=t?(this.loading=!0,this.searchService.search("doctors",t).subscribe(n=>{this.loading=!1,this.doctors=n})):this.loadDoctors()}ngOnDestroy(){var t;null===(t=this.newImagesSub)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k),e.Y36(Z),e.Y36(A.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-doctors"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search doctor",1,"form-control",3,"keyup"],["txtSearch",""],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col-4"],[1,"text-right","mb-4"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-plus","pl-2"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w100","text-nowrap"],[4,"ngFor","ngForOf"],[1,"img-avatar","cursor",3,"src","alt","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Close",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),e.NdJ("keyup",function(){e.CHM(r);const a=e.MAs(5);return n.search(a.value)}),e.qZA()()()()(),e.YNc(6,he,8,0,"div",6),e.YNc(7,_e,27,3,"div",7)}2&t&&(e.xp6(6),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[u.O5,h.yS,u.sg],pipes:[b],styles:[""]}),o})();var Ze=c(7272),q=c(5698),be=c(4482),Te=c(5403),Ce=c(5032),xe=c(5577);function w(o,i){return i?t=>(0,Ze.z)(i.pipe((0,q.q)(1),function Ue(){return(0,be.e)((o,i)=>{o.subscribe((0,Te.x)(i,Ce.Z))})}()),t.pipe(w(o))):(0,xe.z)((t,n)=>o(t,n).pipe((0,q.q)(1),function Ae(o){return(0,p.U)(()=>o)}(t)))}let J=(()=>{class o{constructor(t){this.http=t,this.baseUrl=_.N.baseUrl,this.hospitalUrl=`${this.baseUrl}/hospital`}get token(){return localStorage.getItem("token")||""}get headers(){return{"x-token":this.token}}loadHospitals(){return this.http.get(this.hospitalUrl,{headers:this.headers}).pipe((0,p.U)(t=>{var n;return null!==(n=t.hospitals)&&void 0!==n?n:[]}))}createHospital(t){return this.http.post(this.hospitalUrl,{name:t},{headers:this.headers})}updateHospital(t,n){return this.http.put(`${this.hospitalUrl}/${t}`,{name:n},{headers:this.headers})}deleteHospital(t){return this.http.delete(`${this.hospitalUrl}/${t}`,{headers:this.headers})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(U.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ye(o,i){if(1&o&&(e.TgZ(0,"div",8)(1,"label",25),e._uU(2,"Image "),e.qZA(),e.TgZ(3,"div",10),e._UZ(4,"img",26),e.ALo(5,"image"),e.qZA()()),2&o){const t=e.oxw();let n;e.xp6(4),e.Q6J("src",e.xi3(5,1,null!==(n=null==t.currentDoctor?null:t.currentDoctor.img)&&void 0!==n?n:"","doctors"),e.LSH)}}function Ie(o,i){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function ke(o,i){if(1&o&&(e.TgZ(0,"div",28)(1,"div",2)(2,"div",3)(3,"h4",4),e._uU(4,"Hospital"),e.qZA(),e.TgZ(5,"h4",5),e._uU(6),e.qZA(),e._UZ(7,"img",29),e.ALo(8,"image"),e.qZA()()()),2&o){const t=e.oxw();let n;e.xp6(6),e.Oqu(null==t.currentHospital?null:t.currentHospital.name),e.xp6(1),e.Q6J("src",e.xi3(8,2,null!==(n=null==t.currentHospital?null:t.currentHospital.img)&&void 0!==n?n:"","hospitals"),e.LSH)}}let qe=(()=>{class o{constructor(t,n,r,s,a){this.fb=t,this.hospitalService=n,this.doctorService=r,this.router=s,this.activatedRoute=a,this.hospitals=[],this.doctorForm=this.fb.group({name:["",l.kI.required],hospital:["",l.kI.required]})}ngOnInit(){var t;this.activatedRoute.params.subscribe(({id:n})=>this.loadCurrentDoctor(n)),null===(t=this.doctorForm.get("hospital"))||void 0===t||t.valueChanges.subscribe(n=>{this.currentHospital=this.hospitals.find(r=>r._id==n)}),this.loadHospitals()}loadCurrentDoctor(t){"new"!=t&&this.doctorService.getDoctorById(t).pipe(function Se(o,i=T){const t=I(o,i);return w(()=>t)}(100)).subscribe({next:n=>{var r,s,a,m;this.currentDoctor=n;const tt=null===(r=this.currentDoctor)||void 0===r?void 0:r.name,nt=null!==(m=null===(a=null===(s=this.currentDoctor)||void 0===s?void 0:s.hospital)||void 0===a?void 0:a._id)&&void 0!==m?m:"";this.doctorForm.setValue({name:tt,hospital:nt})},error:()=>{this.router.navigateByUrl("/dashboard/doctors")}})}loadHospitals(){this.hospitalService.loadHospitals().subscribe(t=>{this.hospitals=t})}saveDoctor(){var t;const n=null===(t=this.doctorForm.value)||void 0===t?void 0:t.name;if(this.currentDoctor){const r=Object.assign({_id:this.currentDoctor._id},this.doctorForm.value);this.doctorService.updateDoctor(r).subscribe(()=>{d().fire("Success",`The doctor ${n} was updated`,"success")})}else this.doctorService.createDoctor(this.doctorForm.value).subscribe(r=>{d().fire("Success",`The doctor ${n} was created`,"success");const s=null==r?void 0:r._id;this.router.navigateByUrl(s?`/dashboard/doctor/${s}`:"/dashboard/doctors")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu),e.Y36(J),e.Y36(k),e.Y36(h.F0),e.Y36(h.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-doctor-edit"]],decls:35,vars:5,consts:[[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form-horizontal","p-t-20",3,"formGroup","submit"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["formControlName","name","type","text","id","exampleInputuname3","placeholder","Doctor Name",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],[1,"ti-email"],["formControlName","hospital","name","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"fa","fa-save"],["class","col-lg-6 animated fadeIn",4,"ngIf"],["for","",1,"col-sm-3","control-label"],["alt","Doctor",1,"w200",3,"src"],[3,"value"],[1,"col-lg-6","animated","fadeIn"],["alt","Doctor",1,"img-thumbnail",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Doctor"),e.qZA(),e.TgZ(6,"h6",5),e._uU(7,"Update information"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("submit",function(){return n.saveDoctor()}),e.YNc(9,ye,6,4,"div",7),e.TgZ(10,"div",8)(11,"label",9),e._uU(12,"Name* "),e.qZA(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12),e._UZ(16,"i",13),e.qZA(),e._UZ(17,"input",14),e.qZA()()(),e.TgZ(18,"div",8)(19,"label",15),e._uU(20,"Hospital*"),e.qZA(),e.TgZ(21,"div",10)(22,"div",11)(23,"div",12),e._UZ(24,"i",16),e.qZA(),e.TgZ(25,"select",17)(26,"option",18),e._uU(27,"Select an hospital"),e.qZA(),e.YNc(28,Ie,2,2,"option",19),e.qZA()()()(),e.TgZ(29,"div",20)(30,"div",21)(31,"button",22),e._UZ(32,"i",23),e._uU(33," Save changes "),e.qZA()()()()()()(),e.YNc(34,ke,9,5,"div",24),e.qZA()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.doctorForm),e.xp6(1),e.Q6J("ngIf",n.currentDoctor),e.xp6(19),e.Q6J("ngForOf",n.hospitals),e.xp6(3),e.Q6J("disabled",n.doctorForm.invalid),e.xp6(3),e.Q6J("ngIf",n.currentHospital))},directives:[l._Y,l.JL,l.sg,u.O5,l.Fj,l.JJ,l.u,l.EJ,l.YN,l.Kr,u.sg],pipes:[b],styles:[""]}),o})();var we=c(5861);function Je(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",7)(3,"h4",8),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",9),e.TgZ(6,"p",10),e._uU(7,"Please wait"),e.qZA()()()())}function De(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",24)(2,"img",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).openModal(s)}),e.ALo(3,"image"),e.qZA()(),e.TgZ(4,"td")(5,"input",26),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.name=r}),e.qZA()(),e.TgZ(6,"td",27)(7,"a",28),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).saveChanges(s)}),e._UZ(8,"i",29),e.qZA(),e.TgZ(9,"a",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteHospital(s)}),e._UZ(10,"i",31),e.qZA()()()}if(2&o){const t=i.$implicit;let n;e.xp6(2),e.Q6J("src",e.xi3(3,3,null!==(n=null==t?null:t.img)&&void 0!==n?n:"","hospitals"),e.LSH)("alt",t.name),e.xp6(3),e.Q6J("ngModel",t.name)}}function Ne(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",11)(5,"div",12)(6,"h4",13),e._uU(7),e.qZA(),e.TgZ(8,"h6",14),e._uU(9," Hospitals registered in the application "),e.qZA()(),e.TgZ(10,"div",15)(11,"div",16)(12,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().openCreateModal()}),e._UZ(13,"i",18),e._uU(14," Create hospital "),e.qZA()()()(),e.TgZ(15,"div",19)(16,"table",20)(17,"thead")(18,"tr")(19,"th",21),e._uU(20,"Photo"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Name"),e.qZA(),e.TgZ(23,"th",22),e._uU(24,"Actions"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,De,11,6,"tr",23),e.qZA()()()()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.hij("Hospitals (",t.hospitals.length,")"),e.xp6(19),e.Q6J("ngForOf",t.hospitals)}}let He=(()=>{class o{constructor(t,n,r){this.hospitalService=t,this.modalImageService=n,this.searchService=r,this.hospitals=[],this.loading=!0}ngOnInit(){this.loadHospitals(),this.newImagesSub=this.modalImageService.newImage.subscribe(()=>{this.loadHospitals()})}loadHospitals(){this.loading=!0,this.hospitalService.loadHospitals().subscribe(t=>{this.loading=!1,this.hospitals=t})}openCreateModal(){var t=this;return(0,we.Z)(function*(){const{value:n}=yield d().fire({title:"Create Hospital",text:"Enter the name from the new hospital",input:"text",inputPlaceholder:"Enter a name",showCancelButton:!0});n&&t.hospitalService.createHospital(null!=n?n:"").subscribe(r=>{const s=null==r?void 0:r.hospital;s&&t.hospitals.push(s)})})()}saveChanges(t){var n,r;const s=null!==(n=null==t?void 0:t._id)&&void 0!==n?n:"",a=null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"";this.hospitalService.updateHospital(s,a).subscribe(()=>{d().fire("Success",`The hospital ${a} was saved`,"success")})}deleteHospital(t){d().fire({title:"Are you sure?",text:`You are about to delete ${null==t?void 0:t.name}`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes delete it"}).then(n=>{var r;if(n.value){const s=null!==(r=null==t?void 0:t._id)&&void 0!==r?r:"";this.hospitalService.deleteHospital(s).subscribe(()=>{d().fire("Success",`The hospital ${null==t?void 0:t.name} was deleted`,"success"),this.loadHospitals()})}})}openModal(t){var n;this.modalImageService.openModal("hospitals",null!==(n=null==t?void 0:t._id)&&void 0!==n?n:"",null==t?void 0:t.img)}search(t){""!=t?(this.loading=!0,this.searchService.search("hospitals",t).subscribe(n=>{this.loading=!1,this.hospitals=n})):this.loadHospitals()}ngOnDestroy(){var t;null===(t=this.newImagesSub)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J),e.Y36(A.e),e.Y36(Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search hospital",1,"form-control",3,"keyup"],["txtSearch",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col-4"],[1,"text-right","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"img-avatar","cursor",3,"src","alt","click"],["type","text","placeholder","Hospital name",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Save changes",1,"cursor",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Close",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),e.NdJ("keyup",function(){e.CHM(r);const a=e.MAs(5);return n.search(a.value)}),e.qZA()()()()(),e.YNc(6,Je,8,0,"div",6),e.YNc(7,Ne,27,2,"div",6)}2&t&&(e.xp6(6),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[u.O5,u.sg,l.Fj,l.JJ,l.On],pipes:[b],styles:[""]}),o})();function Fe(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",7)(3,"h4",8),e._uU(4,"Loading"),e.qZA(),e._UZ(5,"i",9),e.TgZ(6,"p",10),e._uU(7,"Please wait"),e.qZA()()()())}function Me(o,i){1&o&&(e.TgZ(0,"span",29),e._uU(1," Email "),e.qZA())}function Ye(o,i){1&o&&(e.TgZ(0,"span",30),e._uU(1," Google "),e.qZA())}function Pe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"img",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).openModal(s)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"select",21),e.NdJ("ngModelChange",function(r){return e.CHM(t).$implicit.role=r})("change",function(){const s=e.CHM(t).$implicit;return e.oxw(2).changeRole(s)}),e.TgZ(9,"option",22),e._uU(10,"Admin"),e.qZA(),e.TgZ(11,"option",23),e._uU(12,"User"),e.qZA()()(),e.TgZ(13,"td"),e.YNc(14,Me,2,0,"span",24),e.YNc(15,Ye,2,0,"span",25),e.qZA(),e.TgZ(16,"td",26)(17,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteUser(s)}),e._UZ(18,"i",28),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("src",null==t?null:t.imageUrl,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.email),e.xp6(2),e.Oqu(null==t?null:t.name),e.xp6(2),e.Q6J("ngModel",t.role),e.xp6(6),e.Q6J("ngIf",!(null!=t&&t.google)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.google)}}function $e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(-5)}),e._uU(2," Prev "),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).changePage(5)}),e._uU(5," Next "),e.qZA()()}}function Oe(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",11),e._uU(5),e.qZA(),e.TgZ(6,"h6",12),e._uU(7,"Users registered in the application"),e.qZA(),e.TgZ(8,"div",13)(9,"table",14)(10,"thead")(11,"tr")(12,"th",15),e._uU(13,"Avatar"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th",16),e._uU(19,"Role"),e.qZA(),e.TgZ(20,"th",15),e._uU(21,"Auth"),e.qZA(),e.TgZ(22,"th",17),e._uU(23,"Actions"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Pe,19,6,"tr",18),e.qZA()(),e.YNc(26,$e,6,0,"div",19),e.qZA()()()()()),2&o){const t=e.oxw(),n=e.MAs(5);e.xp6(5),e.hij("Total users ",t.totalUsers,""),e.xp6(20),e.Q6J("ngForOf",t.users),e.xp6(1),e.Q6J("ngIf",""===n.value)}}let Qe=(()=>{class o{constructor(t,n,r){this.userService=t,this.searchService=n,this.modalImageService=r,this.totalUsers=0,this.users=[],this.from=0,this.loading=!0}ngOnInit(){this.getUsers(),this.newImagesSub=this.modalImageService.newImage.subscribe(()=>{this.getUsers()})}getUsers(){this.loading=!0,this.userService.loadUsers(this.from).subscribe(({total:t,users:n})=>{this.loading=!1,this.totalUsers=t,this.users=n})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>this.totalUsers&&(this.from-=t),this.getUsers()}search(t){""!=t?(this.loading=!0,this.searchService.search("users",t).subscribe(n=>{this.loading=!1,this.users=n})):this.getUsers()}deleteUser(t){var n;(null===(n=this.userService.user)||void 0===n?void 0:n.uid)!==(null==t?void 0:t.uid)?d().fire({title:"Are you sure?",text:`You are about to delete ${null==t?void 0:t.name}`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes delete it!"}).then(r=>{r.value&&this.userService.deleteUser(t.uid).subscribe(s=>{d().fire("Deleted!",`The user ${null==t?void 0:t.name} has been deleted`,"success"),this.getUsers()})}):d().fire("Error","You can't delete yourself","error")}changeRole(t){this.userService.updateUser(t).subscribe({error:()=>{d().fire("Error",`The role of ${null==t?void 0:t.name} couldn't be updated`,"error")}})}openModal(t){var n;this.modalImageService.openModal("users",null!==(n=null==t?void 0:t.uid)&&void 0!==n?n:"",null==t?void 0:t.img)}ngOnDestroy(){var t;null===(t=this.newImagesSub)||void 0===t||t.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.K),e.Y36(Z),e.Y36(A.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search user",1,"form-control",3,"keyup"],["txtSearch",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w150"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"avatar","pointer",3,"src","click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Close",1,"pointer",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-info"],[1,"label","label-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),e.NdJ("keyup",function(){e.CHM(r);const a=e.MAs(5);return n.search(a.value)}),e.qZA()()()()(),e.YNc(6,Fe,8,0,"div",6),e.YNc(7,Oe,27,3,"div",6)}2&t&&(e.xp6(6),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[u.O5,u.sg,l.EJ,l.JJ,l.On,l.YN,l.Kr],encapsulation:2}),o})();function Ee(o,i){1&o&&(e.TgZ(0,"div",7)(1,"p"),e._uU(2,"No users found"),e.qZA()())}function Le(o,i){if(1&o&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&o){const t=i.$implicit;let n;e.xp6(2),e.Q6J("src",e.xi3(3,3,null!==(n=null==t?null:t.img)&&void 0!==n?n:"","users"),e.LSH)("alt",null==t?null:t.name),e.xp6(3),e.hij(" ",null==t?null:t.name," ")}}function Re(o,i){if(1&o&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Avatar"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,Le,6,6,"tr",10),e.qZA()()()),2&o){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.users)}}function Ve(o,i){1&o&&(e.TgZ(0,"div",7)(1,"p"),e._uU(2,"No doctors found"),e.qZA()())}const je=function(o){return["/dashboard/doctor",o]};function Be(o,i){if(1&o&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td")(5,"a",13),e._uU(6),e.qZA()()()),2&o){const t=i.$implicit;let n;e.xp6(2),e.Q6J("src",e.xi3(3,4,null!==(n=null==t?null:t.img)&&void 0!==n?n:"","doctors"),e.LSH)("alt",null==t?null:t.name),e.xp6(3),e.Q6J("routerLink",e.VKq(7,je,null==t?null:t._id)),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Ge(o,i){if(1&o&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,Be,7,9,"tr",10),e.qZA()()()),2&o){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.doctors)}}function Xe(o,i){1&o&&(e.TgZ(0,"div",7)(1,"p"),e._uU(2,"No hospitals found"),e.qZA()())}function ze(o,i){if(1&o&&(e.TgZ(0,"tr",11)(1,"td"),e._UZ(2,"img",12),e.ALo(3,"image"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()),2&o){const t=i.$implicit;let n;e.xp6(2),e.Q6J("src",e.xi3(3,3,null!==(n=null==t?null:t.img)&&void 0!==n?n:"","hospitals"),e.LSH)("alt",null==t?null:t.name),e.xp6(3),e.hij(" ",null==t?null:t.name," ")}}function Ke(o,i){if(1&o&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Image"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,ze,6,6,"tr",10),e.qZA()()()),2&o){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.hospitals)}}const We=[{path:"",component:D,data:{title:"Dashboard"}},{path:"account-settings",component:B,data:{title:"Account Settings"}},{path:"graph1",component:E,data:{title:"Graph 1"}},{path:"profile",component:ce,data:{title:"Profile"}},{path:"progress",component:V,data:{title:"Progress Bar"}},{path:"promises",component:G,data:{title:"Promises"}},{path:"rxjs",component:se,data:{title:"RxJs"}},{path:"search/:term",component:(()=>{class o{constructor(t,n,r){this.activatedRoute=t,this.searchService=n,this.router=r,this.users=[],this.doctors=[],this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({term:t})=>this.globalSearch(t))}globalSearch(t){t&&""!=t?this.searchService.globalSearch(t).subscribe(n=>{this.doctors=n.doctors,this.hospitals=n.hospitals,this.users=n.users}):this.router.navigate(["/dashboard"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.gz),e.Y36(Z),e.Y36(h.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-searchs"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"card-title"],["class","alert alert-info animated fadeIn fast",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info","animated","fadeIn","fast"],[1,"table-responsive"],[1,"table"],["class","animated fadeIn fast",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast"],[1,"w75",3,"src","alt"],[3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Users"),e.qZA(),e.YNc(6,Ee,3,0,"div",5),e.YNc(7,Re,10,1,"div",6),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",2)(10,"div",3)(11,"h3",4),e._uU(12,"Doctors"),e.qZA(),e.YNc(13,Ve,3,0,"div",5),e.YNc(14,Ge,10,1,"div",6),e.qZA()()(),e.TgZ(15,"div",1)(16,"div",2)(17,"div",3)(18,"h3",4),e._uU(19,"Hospitals"),e.qZA(),e.YNc(20,Xe,3,0,"div",5),e.YNc(21,Ke,10,1,"div",6),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",0==n.users.length),e.xp6(1),e.Q6J("ngIf",0!=n.users.length),e.xp6(6),e.Q6J("ngIf",0==n.doctors.length),e.xp6(1),e.Q6J("ngIf",0!=n.doctors.length),e.xp6(6),e.Q6J("ngIf",0==n.hospitals.length),e.xp6(1),e.Q6J("ngIf",0!=n.hospitals.length))},directives:[u.O5,u.sg,h.yS],pipes:[b],encapsulation:2}),o})(),data:{title:"Application Searchs"}},{path:"doctors",component:fe,data:{title:"Doctors"}},{path:"doctor/:id",component:qe,data:{title:"Doctor"}},{path:"hospitals",component:He,data:{title:"Hospitals"}},{path:"users",canActivate:[(()=>{class o{constructor(t,n){this.userService=t,this.router=n}canActivate(t,n){return"ADMIN_ROLE"==this.userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(C.K),e.LFG(h.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()],component:Qe,data:{title:"Application users"}}];let et=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.Bz.forChild(We)],h.Bz]}),o})()}}]);